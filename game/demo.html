<head>
    <link rel="stylesheet" href="./style.css">
</head>
<body>
    <div style="display:flex;">
        <div style="margin-right:10px;">
            <table border="1">
                <thead>
                    <tr></tr>
                </thead>
                <tbody>
                </tbody>
            </table>
        </div>
        <div>
            <div style="font-size:larger">
                Total attack cost: <span id="attackcost"></span>
                <br>
                Total defend cost: <span id="defendcost"></span>
                <br>
                Total value: <span id="total"></span>
            </div>
            <div>
                <button type="button" id="loadnaive">Load naive</button>
                <button type="button" id="loadbest">Load best</button>
            </div>
        </div>
    </div>

    <script type="module">
        import { generateBoard } from "./modules/board.mjs";
        import { strategies } from "./modules/solver.mjs";
        import { render } from "./modules/renderer.mjs"

        const board = generateBoard();
        window.board = board;

        function assignActions(attacking, defending) {
            for (const entry of data) {
                entry.attacking = attacking.some(x=>x.attack === entry.attack);
                entry.defending = defending.some(x=>x.attack === entry.attack);
            }
        }

        document.querySelector("#loadnaive").addEventListener("click", e=>{
            assignActions(naiveAttacker, naiveDefender);
            rebuildTable();
            rebuildLabels();
        });
        document.querySelector("#loadbest").addEventListener("click", e=>{
            assignActions(bestAttacker, bestDefender);
            rebuildTable();
            rebuildLabels();
        });

        render(board);
        console.log(board);
    </script>
</body>